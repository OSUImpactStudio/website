<div class="grid">
    <div class="card">
        [[{"fid":"3861","view_mode":"default","fields":{"format":"default","alignment":"","field_file_image_alt_text[und][0][value]":false,"field_file_image_title_text[und][0][value]":false,"external_url":""},"type":"media","field_deltas":{"32":{"format":"default","alignment":"","field_file_image_alt_text[und][0][value]":false,"field_file_image_title_text[und][0][value]":false,"external_url":""},"33":{"format":"default","alignment":"","field_file_image_alt_text[und][0][value]":false,"field_file_image_title_text[und][0][value]":false,"external_url":""}},"link_text":null,"attributes":{"height":2681,"width":4767,"class":"media-element file-default","data-delta":"32"}}]]
        <div class="overlay">
            <p class="card-title">Participation</p>

            <div class="bottom">
                <p class="card-desc">
                    You are an active, contributing member of the initiative Core Team! You attend key working meetings, share research findings and analysis, and communicate with peers, Impact Studio staff, and faculty across university colleges and departments.
                </p>

                <div class="tri-arrow-holder">
                    <div class="tri-arrow">
                        &nbsp;
                    </div>
                </div>
            </div>
        </div>

    </div>
    <div class="card">
        [[{"fid":"3866","view_mode":"default","fields":{"format":"default","alignment":"","field_file_image_alt_text[und][0][value]":false,"field_file_image_title_text[und][0][value]":false,"external_url":""},"type":"media","field_deltas":{"33":{"format":"default","alignment":"","field_file_image_alt_text[und][0][value]":false,"field_file_image_title_text[und][0][value]":false,"external_url":""}},"link_text":null,"attributes":{"height":2785,"width":4193,"class":"media-element file-default","data-delta":"33"}}]]
        <div class="overlay">
            <p class="card-title">Primary Research</p>

            <div class="bottom">
                <p class="card-desc">
                    Do you enjoy talking with humans? As a primary researcher, you will develop and analyze surveys and conduct Human Centered Design research; including empathy-based observation through interviews, focus groups, and co-design sessions.
                </p>

                <div class="tri-arrow-holder">
                    <div class="tri-arrow">
                        &nbsp;
                    </div>
                </div>
            </div>
        </div>

    </div>
    <div class="card">
        [[{"fid":"3871","view_mode":"default","fields":{"format":"default","alignment":"","field_file_image_alt_text[und][0][value]":false,"field_file_image_title_text[und][0][value]":false,"external_url":""},"type":"media","field_deltas":{"34":{"format":"default","alignment":"","field_file_image_alt_text[und][0][value]":false,"field_file_image_title_text[und][0][value]":false,"external_url":""}},"link_text":null,"attributes":{"height":2394,"width":3600,"class":"media-element file-default","data-delta":"34"}}]]
        <div class="overlay">
            <p class="card-title">Secondary Research</p>

            <div class="bottom">
                <p class="card-desc">
                    You will evalute and select the best data from relevant market sources while conducting competitive research! This includes identifying the value chain for initiatives within various sectors in industry.
                </p>


                <div class="tri-arrow-holder">
                    <div class="tri-arrow">
                        &nbsp;
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="card">
        [[{"fid":"3876","view_mode":"default","fields":{"format":"default","alignment":"","field_file_image_alt_text[und][0][value]":false,"field_file_image_title_text[und][0][value]":false,"external_url":""},"type":"media","field_deltas":{"34":{"format":"default","alignment":"","field_file_image_alt_text[und][0][value]":false,"field_file_image_title_text[und][0][value]":false,"external_url":""}},"link_text":null,"attributes":{"height":2177,"width":3008,"class":"media-element file-default","data-delta":"34"}}]]
        <div class="overlay">
            <p class="card-title">Analysis</p>

            <div class="bottom">
                <p class="card-desc">
                    You will learn to analyze market sizing, user needs, and recommended solutions using primary and secondary sources as well as competing organizations and their offerings. You will help Impact Studio deliver preliminary financial estimates based on analysis of the current and future value chain.
                </p>


                <div class="tri-arrow-holder">
                    <div class="tri-arrow">
                        &nbsp;
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style type="text/css">

    body {
        --beaver-orange: #D73F09;
        --rounding: 1em;
    }

    .grid {
        display: grid;
        grid-template-columns: repeat(4, minmax(500px, 1fr));
        place-items: start center;
        padding: 0px 3rem;
        gap: 3rem normal;
        width: calc(100% - 3rem);
        height: calc(100% - 3rem);
    }


    @media only screen and (max-width: 769px) {
        .grid {
            grid-template-columns: repeat(1, minmax(300px, 1fr));
        }
    }
    @media only screen and (min-width: 769px) {
        .grid {
            grid-template-columns: repeat(2, minmax(300px, 1fr));
        }
    }
    @media only screen and (min-width: 1980px) {
        .grid {
            grid-template-columns: repeat(4, minmax(500px, 1fr));
        }
    }

    .card {
        background-color: var(--beaver-orange);
        color: white;
        width: 90%;
        /* height: 15vh; */
        height: auto;
        border: 1px solid black;

        display: flex;
        flex-direction: column;
        justify-content: space-between;
        align-items: center;
        border-radius: var(--rounding);
        box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
        border: none;

        position: relative;
    }

    .card img {
        object-fit: fill;
        border-radius: var(--rounding);
    }

    .card .media .content {
        padding: 0;
        margin: 0;
    }

    .overlay {
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;
        border-radius: var(--rounding);
    }

    .card-title {
        padding: 1rem;
        margin: 1rem 0 0 0;
        /* margin-bottom: auto !important; usually bad practice but needed in this case (thank drupal :/ ) */
        text-align: center;
        color: white;
        font-family: 'Stratum2Web', sans-serif;
        font-size: 2em;
    }

    .card-desc {
        background-color: white;
        color: black;
        max-height: 0px;
        padding-right: 0.8rem;
        padding-bottom: 0;
        word-wrap: break-word;
        margin: 0;
        overflow-y: hidden;
        transition: max-height 0.5s ease 0s, margin 0.5s ease 0.3s;
        font-size: 1em;
    }

    .bottom {
        background-color: transparent;
        width: 100%;
        height: 20%;
        border-radius: var(--rounding);

        display: flex;
        flex-direction: column;
        justify-content: space-between;
        /* transition: background-color 0.2s ease 0.5s; */
    }


    .card.expanded .bottom {
        height: 73%;
        background-color: white;
        transition: none;
    }

    .card.expanded .card-desc {
        max-height: 500px;
        transition: max-height 0.5s ease 0s;
        margin: 1em;
    }



    .card.expanded .tri-arrow,
    .card.expanded .tri-arrow::before,
    .card.expanded .tri-arrow::after {
        border-color: black;
    }

    .card.expanded:hover .tri-arrow,
    .card.expanded:hover .tri-arrow::before,
    .card.expanded:hover .tri-arrow::after {
        border-color: var(--beaver-orange);
    }

    .tri-arrow-holder {
        display: block;
        width: 53px;
        height: 30px;
        margin: auto 1.5rem 1.5rem auto;
    }

    .tri-arrow {
        box-sizing: content-box;
        /* more triangle */
        height: 15px; width: 15px;
        border: 1px solid black;
        border-width: 5px 5px 0 0;
        transform: rotate(45deg);
        margin: 4px 11px;
        transition: border-color 0.5s ease 0s;
    }

    .tri-arrow:before, .tri-arrow:after {
        content: '';
        position: absolute;
        display: block;
        height: 15px; width: 15px;
        border-width: 5px 5px 0 0;
        transition: border-color 0.5s ease 0s;
    }

    .tri-arrow:before {
        border: 1px solid black;
        border-width: 5px 5px 0 0;
        /* top - distance minus border */
        top: 8px;
        left: -12px;
    }

    .tri-arrow:after {
        border: 1px solid black;
        border-width: 5px 5px 0 0;
        /* top - distance plus border */
        top: -17px;
        left: 13px;
    }

    .card:hover .tri-arrow {
        border: 1px solid rgba(255, 255, 255, 0.6);
        border-width: 5px 5px 0 0;
    }

    .card:hover .tri-arrow:before {
        border: 1px solid rgba(255, 255, 255, 0.3);
        border-width: 5px 5px 0 0;
    }

    .card:hover .tri-arrow:after {
        border: 1px solid rgba(255, 255, 255, 1);
        border-width: 5px 5px 0 0;
    }

    .card:hover {
        cursor: pointer;
    }

</style>

<script type="text/javascript">
    let cards = Array.from(document.getElementsByClassName("card"));

    cards.forEach(card => {
        card.addEventListener('click', e => card.classList.toggle('expanded'))
    })

</script>